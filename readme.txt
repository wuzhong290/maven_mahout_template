协同过滤评分
https://github.com/argszero/argszero.github.io/blob/master/README.md

mahout上搞协同过滤

我们准备采用mahout，搞一下这个协同过滤。为什么选择mahout呢？

数据量大，一个机器搞不定，需要并行计算
外行比较容易上手mahout
mahout也正在往spark平台迁移
我们有现成的yarn集群，即可以跑hadoop，也可以跑spark
当然，后面还会在spark之上的mllib上再搞一遍来比照

1. 预处理数据

为了适应各种模型、各种场景下的协同过滤需求，mahout对协同过滤的输入数据做了标准化抽象: (用户(userId)、商品(itemId)、评分(Preference)）。我们的数据里包含了用户、商品，但没有评分。怎么搞呢？理想情况下，这个评分大约为（浏览的次数×浏览的权重+收藏的次数×收藏的权重+购买的次数×购买的权重）×时间衰减函数。因为用户不同的动作，体现出用户对这个商品的喜爱程度是不同的，所以需要使用不同的权重来打分。另外，时间的影响也是很大的，越是最近的购买，越能反映出用户的喜好。

难题出来了，有两个东西很难确定：

不同动作的权重
时间衰减函数
这两个东西，肯定会影响我们的推荐结果的。有两种方法确定这两个东西：

训练：根据现有的数据，采用适当的算法做训练。
拍脑袋
本着解决主要矛盾，忽略次要矛盾的原则，我们采用第二种方法，即拍脑袋决定：

浏览的权重：1
收藏的权重：2
购买的权重：3

公式:评分.png